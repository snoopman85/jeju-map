<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>제주 부동산 지도</title>
  <style>
    html, body { width: 100%; height: 100%; margin: 0; }
    #map { width: 100%; height: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>

  <!-- ✅ API 키는 반드시 본인의 것으로 바꿔주세요 -->
  <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=514dacdcf76f7ad8b6f05f62739cc54c"></script>

  <script>
    var mapContainer = document.getElementById('map');
    var mapOption = {
      center: new kakao.maps.LatLng(33.47676, 126.35803),
      level: 9
    };
    var map = new kakao.maps.Map(mapContainer, mapOption);

    // ✅ 마커 정보 리스트
    var positions = [
      {
        content: '<div style="padding:10px; font-size:13px;"><strong>애월읍 신엄리 2891-3</strong><br>대지 200평<br>매매가: 5억 원</div>',
        latlng: new kakao.maps.LatLng(33.47676, 126.35803)
      },
      {
        content: '<div style="padding:10px; font-size:13px;"><strong>애월읍 곽지리 791-4</strong><br>전망 좋은 땅<br>매매가: 4.5억 원</div>',
        latlng: new kakao.maps.LatLng(33.44180, 126.31541)
      }
    ];

    // ✅ 마커 + InfoWindow 생성
    for (var i = 0; i < positions.length; i++) {
      (function(i) {
        var marker = new kakao.maps.Marker({
          map: map,
          position: positions[i].latlng
        });

        var infowindow = new kakao.maps.InfoWindow({
          content: positions[i].content
        });

        kakao.maps.event.addListener(marker, 'click', function() {
          infowindow.open(map, marker);
        });
      })(i); // 즉시 실행 함수로 클로저 생성
    }
  </script>
</body>
</html>
